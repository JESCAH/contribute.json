{% raw %}
<div id="validation">
  <p ng-if="!finished">Loading loading loading...</p>
  <div ng-if="finished">
    <h4 ng-if="url">URL: <a href="{{ url }}"><code>{{ url }}</code></a></h4>
    <div ng-if="!(schema_error || request_error)">
      <h2 ng-show="error" class="result-bad">
        RESULT: BAD
      <br>
      <code>{{ error }}</code></h2>

      <h2 ng-show="!error" class="result-good">RESULT: OK</h2>

      <h4 ng-if="url">Response</h4>
      <h4 ng-if="!url">Content</h4>
      <div numbered-lines="response"></div>
      <p ng-if="urls_to_check.length">
        Checking URLs found in the response. ({{ urls_to_check.length }} left)
      </p>
      <h4><a href="{{ schema_url }}">Schema</a></h4>
      <div numbered-lines="schema"></div>
    </div>

    <div ng-if="schema_error">
      <p>Failed to load the schema. My bad.</p>
    </div>

    <div ng-if="request_error">
      <p ng-if="url">Failed to load the URL.</p>
      <p ng-if="!url">Failed to load the JSON data.</p>
      <p><code>{{ request_error }}</code></p>

      <div ng-if="response" numbered-lines="response"></div>

    </div>

  </div>

</div>

{% endraw %}
